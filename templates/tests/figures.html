{% extends "auth_base.html" %}
{% load static %}

{% block title %}Test de figuras{% endblock %}

{% block extra_css %}
    <link href="{% static 'css/icons.min.css' %}" rel="stylesheet" type="text/css"/>
    <link href="{% static 'css/custombox.min.css' %}" rel="stylesheet" />
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet" type="text/css" />
    <link href="{% static 'css/app.css' %}" rel="stylesheet" type="text/css" />
{% endblock %}


{% block content %}
    <div id="wrapper">
        <div class="content">
            <!-- Start Content-->
            <div class="container-fluid">
                <!-- start page title -->
                <div class="row">
                    <div class="col-12">
                        <div class="page-title-box">
                            <div class="page-title-right">
                                <ol class="breadcrumb m-0">
                                    <li class="breadcrumb-item"><a href="{% url 'index' %}">EyeQFocus</a></li>
                                    <li class="breadcrumb-item"><a href="javascript: void(0);">Tests</a></li>
                                    <li class="breadcrumb-item active">Test de figuras</li>
                                </ol>
                            </div>
                            <h4 class="page-title">Tests</h4>
                        </div>
                    </div>
                </div>
                <!-- end page title -->
                <div class="row">
                    <div class="col-lg-6">
                        <div class="card-box ribbon-box">
                            <div class="ribbon ribbon-blue float-left">
                                <i class="mdi mdi-access-point mr-1"></i> Test de figuras
                            </div>

                            <div class="ribbon-content">
                                <p class="mb-0">
                                    Evalúa la percepción visual y la capacidad de reconocer formas específicas, especialmente dirigida a niños. Permite detectar posibles deficiencias o dificultades en la percepción de contornos y detalles.                                </p>
                                <p class="mb-0">
                                    <br>
                                </p>

                            </div>
                            <div class="button">
                                <div class="text-center">
                                    <img src="{% static 'images/placeholder.png' %}" id="fullscreen-image"
                                         alt="Imagen de marcador de posición"
                                         class="img-fluid fullscreen-image"
                                         style="max-width: 100px; max-height: 100px;"
                                         onclick="toggleFullscreen('fullscreen-image')"/>

                               </div>
                            </div>
                        </div>
                    </div>
                </div> <!-- end row-->
            </div> <!-- container -->
        </div> <!-- content -->
    </div>

{% endblock content %}

{% block extra_javascript %}
<style>
  .fullscreen-image {
    object-fit: contain;
    max-width: 100%;
    max-height: 100%;
    cursor: pointer;
  }
</style>

<script>
 function toggleFullscreen(elementId) {
    var element = document.getElementById(elementId);
    if (!document.fullscreenElement) {
        if (element.getAttribute('src') === '{% static 'images/placeholder.png' %}') {
            element.setAttribute('src', '{% static 'images/figures.jpg' %}');
        }
        element.requestFullscreen().catch(err => {
            console.log(err);
        });
    } else {
        if (document.exitFullscreen) {
            document.exitFullscreen().catch(err => {
                console.log(err);
            });
        }
    }
}

document.addEventListener('fullscreenchange', function () {
    if (!document.fullscreenElement) {
        var fullscreenImage = document.getElementById('fullscreen-image');
        if (fullscreenImage.getAttribute('src') !== '{% static 'images/placeholder.png' %}') {
            fullscreenImage.setAttribute('src', '{% static 'images/placeholder.png' %}');
        }
    }
});
</script>

<script src="{% static 'js/jquery.blur.min.js' %}"></script>
<script src="{% static 'js/vendor.min.js' %}"></script>
<script src="{% static 'js/app.min.js' %}"></script>
<script src="{% static 'js/custombox.min.js' %}"></script>
{% endblock %}
